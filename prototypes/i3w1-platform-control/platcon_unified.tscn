[gd_scene load_steps=15 format=3 uid="uid://deds1ilri0j4e"]

[ext_resource type="Script" path="res://addons/pronto/behaviors/Placeholder.gd" id="1_86xep"]
[ext_resource type="Script" path="res://addons/pronto/behaviors/PlatformerController.gd" id="2_2dbrt"]
[ext_resource type="Script" path="res://addons/pronto/behaviors/Bind.gd" id="3_2xy32"]
[ext_resource type="Script" path="res://addons/pronto/behaviors/PrototypingUI.gd" id="4_2b047"]
[ext_resource type="Script" path="res://addons/pronto/behaviors/Value.gd" id="5_dyjag"]
[ext_resource type="PackedScene" uid="uid://clnqkilb40min" path="res://platform_path_test_scene.tscn" id="6_6ml7o"]
[ext_resource type="Script" path="res://prototypes/i3w1-platform-control/Path2D.gd" id="6_wo60l"]
[ext_resource type="Script" path="res://addons/pronto/behaviors/Controls.gd" id="7_45lh6"]
[ext_resource type="Script" path="res://addons/pronto/helpers/Connection.gd" id="8_7ipab"]

[sub_resource type="Curve2D" id="Curve2D_6dgdg"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -619, -132, 0, 0, 0, 0, -619, -132, 0, 0, 0, 0, -439, -133)
}
point_count = 3

[sub_resource type="Curve2D" id="Curve2D_q5m03"]
resource_local_to_scene = true
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -619, -132, 0, 0, 0, 0, -619, -132, 0, 0, 0, 0, -439, -133)
}
point_count = 3

[sub_resource type="Curve2D" id="Curve2D_v1f00"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -619, -132, 0, 0, 0, 0, -619, -132, 0, 0, 0, 0, -439, -133, 0, 0, 0, 0, -331, -324)
}
point_count = 4

[sub_resource type="Resource" id="Resource_ukwbv"]
script = ExtResource("8_7ipab")
signal_name = "horizontal_direction"
to = NodePath("../../Path2D/PathFollow2D")
invoke = "set_progress"
arguments = ["var speed = G.at(\"PlatformMovementSpeed\")
return to.progress + (dir.x * speed)"]
only_if = "return true"
expression = ""

[sub_resource type="Resource" id="Resource_lrm13"]
script = ExtResource("8_7ipab")
signal_name = "horizontal_direction"
to = NodePath("../../Path2D2/PathFollow2D")
invoke = "set_progress"
arguments = ["var speed = G.at(\"PlatformMovementSpeed\")
return to.progress + (dir.x * speed)"]
only_if = "return true"
expression = ""

[node name="jumpnrun" type="Node2D"]

[node name="StaticBody2D" type="StaticBody2D" parent="."]
position = Vector2(563, 624)

[node name="Placeholder" type="Node2D" parent="StaticBody2D"]
position = Vector2(1, 16)
script = ExtResource("1_86xep")
color = Color(0.0313726, 0.658824, 0, 1)
placeholder_size = Vector2(2000, 40)

[node name="StaticBody2D2" type="StaticBody2D" parent="."]
position = Vector2(683, 443)

[node name="Placeholder" type="Node2D" parent="StaticBody2D2"]
position = Vector2(1, 16)
script = ExtResource("1_86xep")
color = Color(0.0313726, 0.658824, 0, 1)
placeholder_size = Vector2(88, 71)

[node name="StaticBody2D3" type="StaticBody2D" parent="."]
position = Vector2(899, 528)

[node name="Placeholder" type="Node2D" parent="StaticBody2D3"]
position = Vector2(1, 16)
script = ExtResource("1_86xep")
color = Color(0.0313726, 0.658824, 0, 1)
placeholder_size = Vector2(88, 71)

[node name="StaticBody2D4" type="StaticBody2D" parent="."]
position = Vector2(763, 590)

[node name="Placeholder" type="Node2D" parent="StaticBody2D4"]
position = Vector2(1, 16)
script = ExtResource("1_86xep")
color = Color(0.0313726, 0.658824, 0, 1)
placeholder_size = Vector2(88, 71)

[node name="CharacterBody2D" type="CharacterBody2D" parent="."]
position = Vector2(685, 379)

[node name="Placeholder" type="Node2D" parent="CharacterBody2D"]
script = ExtResource("1_86xep")
label = "guy"
placeholder_size = Vector2(20, 60)

[node name="PlatformerController" type="Node2D" parent="CharacterBody2D"]
position = Vector2(45, -12)
script = ExtResource("2_2dbrt")
coyote_time = 1.0
show_trail = true

[node name="Bind" type="Node2D" parent="CharacterBody2D/PlatformerController"]
position = Vector2(-12, -53)
script = ExtResource("3_2xy32")
to_prop = "jump_velocity"
convert = "return G.at(\"JumpVel\")"

[node name="Bind2" type="Node2D" parent="CharacterBody2D/PlatformerController"]
position = Vector2(-35, -48)
script = ExtResource("3_2xy32")
to_prop = "horizontal_velocity"
convert = "return G.at(\"HorizontalVel\")"

[node name="Bind3" type="Node2D" parent="CharacterBody2D/PlatformerController"]
position = Vector2(39, -34)
script = ExtResource("3_2xy32")
to_prop = "coyote_time"
convert = "return G.at(\"CoyoteTime\")"

[node name="StaticBody2D5" type="StaticBody2D" parent="."]
position = Vector2(389, 306)
rotation = 0.476859

[node name="Placeholder" type="Node2D" parent="StaticBody2D5"]
position = Vector2(1, 16)
script = ExtResource("1_86xep")
color = Color(0.0313726, 0.658824, 0, 1)
placeholder_size = Vector2(457, 36)

[node name="StaticBody2D6" type="StaticBody2D" parent="."]
position = Vector2(978, 594)

[node name="Placeholder" type="Node2D" parent="StaticBody2D6"]
position = Vector2(1, 16)
script = ExtResource("1_86xep")
color = Color(0.0313726, 0.658824, 0, 1)
placeholder_size = Vector2(88, 71)

[node name="UI" type="Node2D" parent="."]

[node name="PanelContainer" type="PanelContainer" parent="UI"]
offset_right = 339.0
offset_bottom = 138.0

[node name="PrototypingUI" type="Node2D" parent="UI/PanelContainer"]
position = Vector2(397, 197)
scale = Vector2(1.01074, 1.01653)
script = ExtResource("4_2b047")

[node name="JumpVel" type="Node2D" parent="UI/PanelContainer/PrototypingUI"]
position = Vector2(72.2242, -8.85367)
scale = Vector2(0.989374, 0.983739)
script = ExtResource("5_dyjag")
from = 200.0
to = 800.0
step_size = 10.0
value = 400.0

[node name="HorizontalVel" type="Node2D" parent="UI/PanelContainer/PrototypingUI"]
position = Vector2(70.2455, 22.626)
script = ExtResource("5_dyjag")
from = 200.0
to = 800.0
step_size = 10.0
value = 400.0

[node name="CoyoteTime" type="Node2D" parent="UI/PanelContainer/PrototypingUI"]
position = Vector2(69.2561, 53.1219)
script = ExtResource("5_dyjag")
step_size = 0.1
value = 0.2

[node name="PlatformMovementSpeed" type="Node2D" parent="UI/PanelContainer/PrototypingUI"]
position = Vector2(70.2455, 86.569)
script = ExtResource("5_dyjag")
to = 20.0
step_size = 0.5
value = 2.0

[node name="Path2D" parent="." instance=ExtResource("6_6ml7o")]
curve = SubResource("Curve2D_6dgdg")

[node name="Path2D3" parent="." instance=ExtResource("6_6ml7o")]
position = Vector2(861, 615)
curve = SubResource("Curve2D_q5m03")

[node name="Path2D2" type="Path2D" parent="."]
position = Vector2(1198, 418)
curve = SubResource("Curve2D_v1f00")
script = ExtResource("6_wo60l")

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D2"]
position = Vector2(-619.126, -131.999)
rotates = false
loop = false

[node name="StaticBody2D" type="StaticBody2D" parent="Path2D2/PathFollow2D"]

[node name="Placeholder" type="Node2D" parent="Path2D2/PathFollow2D/StaticBody2D"]
script = ExtResource("1_86xep")
label = "platform"
placeholder_size = Vector2(54, 21)

[node name="Platform-Prototyping" type="Node2D" parent="."]
position = Vector2(642, 183)

[node name="Controls" type="Node2D" parent="Platform-Prototyping"]
position = Vector2(-10, -120)
script = ExtResource("7_45lh6")
player = 1
metadata/pronto_connections = [SubResource("Resource_ukwbv"), SubResource("Resource_lrm13")]
